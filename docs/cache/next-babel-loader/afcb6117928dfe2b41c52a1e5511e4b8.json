{"ast":null,"code":"import Record from 'src/models/record';\nimport connectMongo from 'utils/connectMongo';\n/**\n * @param {import('next').NextApiRequest} req\n * @param {import('next').NextApiResponse} res\n */\n\nexport default async function handler(req, res) {\n  switch (req.method) {\n    case 'GET':\n      {\n        await connectMongo();\n        const records = await Record.find({});\n        const data = JSON.parse(JSON.stringify(records));\n        res.status(200).json(data);\n        break;\n      }\n\n    case 'POST':\n      {\n        await connectMongo();\n        const record = await new Record(req.body).save();\n        res.status(200).json({\n          record\n        });\n        break;\n      }\n\n    default:\n      break;\n  }\n}","map":{"version":3,"names":["Record","connectMongo","handler","req","res","method","records","find","data","JSON","parse","stringify","status","json","record","body","save"],"sources":["/Users/priscilabrey/Documents/joacode/financialTool/pages/api/records.ts"],"sourcesContent":["import Record from 'src/models/record'\nimport connectMongo from 'utils/connectMongo'\n\n/**\n * @param {import('next').NextApiRequest} req\n * @param {import('next').NextApiResponse} res\n */\n\nexport default async function handler(req, res): Promise<void> {\n    switch (req.method) {\n        case 'GET': {\n            await connectMongo()\n            const records = await Record.find({})\n            const data = JSON.parse(JSON.stringify(records))\n\n            res.status(200).json(data)\n            break\n        }\n\n        case 'POST': {\n            await connectMongo()\n            const record = await new Record(req.body).save()\n\n            res.status(200).json({ record })\n            break\n        }\n\n        default:\n            break\n    }\n}\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AAEA;AACA;AACA;AACA;;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAgD;EAC3D,QAAQD,GAAG,CAACE,MAAZ;IACI,KAAK,KAAL;MAAY;QACR,MAAMJ,YAAY,EAAlB;QACA,MAAMK,OAAO,GAAG,MAAMN,MAAM,CAACO,IAAP,CAAY,EAAZ,CAAtB;QACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,OAAf,CAAX,CAAb;QAEAF,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAArB;QACA;MACH;;IAED,KAAK,MAAL;MAAa;QACT,MAAMP,YAAY,EAAlB;QACA,MAAMa,MAAM,GAAG,MAAM,IAAId,MAAJ,CAAWG,GAAG,CAACY,IAAf,EAAqBC,IAArB,EAArB;QAEAZ,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;UAAEC;QAAF,CAArB;QACA;MACH;;IAED;MACI;EAnBR;AAqBH"},"metadata":{},"sourceType":"module"}