(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{82753:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/records",function(){return r(3460)}])},3460:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B},records:function(){return $}});var t=r(85893),i=r(67294),c=r(3642),o=r(7297),u=r(63719),s=r(20264),a=r(24998),d=r(34736),l=r(13954),f=r(11163),h=r(19521),p=r(73362),x=r(41799),Z=r(69396),j=r(9617),v=r(52428),y=r(13301);function b(){var n=(0,o.Z)(["\n    margin: 10px;\n    display: inline-block;\n"]);return b=function(){return n},n}var w=h.ZP.div(b()),g=function(n){var e=n.records,r=n.filteredRecords,c=n.setFilteredRecords,o=(0,i.useState)(void 0),u=o[0],s=o[1];return(0,t.jsxs)("div",{style:{display:"inline-block"},children:[(0,t.jsxs)(w,{children:[(0,t.jsx)("span",{children:"Title: "}),(0,t.jsx)(j.Z,{style:{width:"100px",display:"inline-block"},onChange:function(n){s((function(e){return(0,Z.Z)((0,x.Z)({},e),{title:n})}))}})]}),(0,t.jsxs)(w,{children:[(0,t.jsx)("span",{children:"Amount: "}),(0,t.jsx)(j.Z,{style:{width:"100px",display:"inline-block"},onChange:function(n){s((function(e){return(0,Z.Z)((0,x.Z)({},e),{amount:parseFloat(n)})}))}})]}),(0,t.jsxs)(w,{children:[(0,t.jsx)("span",{children:"Date: "}),(0,t.jsx)(v.Z,{style:{width:170},onSelect:function(n){s((function(e){return(0,Z.Z)((0,x.Z)({},e),{date:n.toString()})}))},oneTap:!0,format:"yyyy-MM-dd",placeholder:"Select Date:"})]}),(0,t.jsx)(y.Z,{appearance:"primary",style:{margin:"10px"},onClick:function(){var n=r;(null===u||void 0===u?void 0:u.title)&&(n=n.filter((function(n){return n.title===u.title}))),(null===u||void 0===u?void 0:u.amount)&&(n=n.filter((function(n){return n.amount===u.amount}))),(null===u||void 0===u?void 0:u.date)&&(n=n.filter((function(n){return n.date===u.date}))),c(n)},children:"Filter"}),(0,t.jsx)(y.Z,{appearance:"ghost",onClick:function(){c(e),s(null)},children:"Clear Filters"})]})},m=r(46202),C=r(18048),k=r(48737),R=r(26658);function P(){var n=(0,o.Z)(["\n    margin: 20px;\n    padding: 20px;\n    border-bottom: 0.5px solid #575a5b4d;\n    justify-content: space-between;\n    display: flex;\n"]);return P=function(){return n},n}var S=h.ZP.div(P()),_=function(n){var e=n.open,r=n.onClose,i=n.onSubmit,c=n.setRecord;return(0,t.jsxs)(C.Z,{open:e,onClose:r,children:[(0,t.jsx)(C.Z.Header,{children:(0,t.jsx)(C.Z.Title,{children:"Add record"})}),(0,t.jsx)(C.Z.Body,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Z,{label:"Title:",onChange:function(n){c((function(e){return(0,Z.Z)((0,x.Z)({},e),{title:n})}))},edit:!0}),(0,t.jsx)(R.Z,{label:"Detail:",onChange:function(n){c((function(e){return(0,Z.Z)((0,x.Z)({},e),{detail:n})}))},edit:!0}),(0,t.jsx)(R.Z,{label:"Amount:",onChange:function(n){c((function(e){return(0,Z.Z)((0,x.Z)({},e),{amount:parseFloat(n)})}))},edit:!0}),(0,t.jsxs)(S,{children:[(0,t.jsx)(k.Z,{bolder:!0,children:"Date:"}),(0,t.jsx)(v.Z,{placeholder:"Select Date",style:{width:170},onSelect:function(n){c((function(e){return(0,Z.Z)((0,x.Z)({},e),{date:n.toString()})}))},oneTap:!0,format:"yyyy-MM-dd"})]})]})}),(0,t.jsxs)(C.Z.Footer,{children:[(0,t.jsx)(y.Z,{appearance:"ghost",onClick:function(){return r()},children:"Cancel"}),(0,t.jsx)(y.Z,{appearance:"primary",onClick:function(){return i()},children:"Submit"})]})]})},T=r(90316),F=function(n){var e=n.records,r=n.filteredRecords,c=n.setFilteredRecords,o=(0,f.useRouter)(),u=(0,i.useState)(null),s=u[0],a=u[1],d=(0,i.useState)(!1),h=d[0],p=d[1];return(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(g,{records:e,filteredRecords:r,setFilteredRecords:c}),(0,t.jsx)(y.Z,{appearance:"primary",onClick:function(){return p(!0)},children:"Add Record"}),h&&(0,t.jsx)(_,{open:h,onClose:function(){return p(!1)},onSubmit:function(){""===s.title||Number.isNaN(s.amount)||l.$.create(s).then((function(){return(0,T.bj)("success")})).catch((function(){return(0,T.bj)("error")})).finally((function(){o.reload()}))},setRecord:a})]})},D=function(n){var e=n.open,r=n.onClose,i=n.onSubmit;return(0,t.jsxs)(C.Z,{open:e,onClose:r,children:[(0,t.jsx)(C.Z.Header,{children:(0,t.jsx)(C.Z.Title,{children:"Delete Record"})}),(0,t.jsx)(C.Z.Body,{children:"Are you sure you want to delete this record? This action cannot be undone"}),(0,t.jsxs)(C.Z.Footer,{children:[(0,t.jsx)(y.Z,{appearance:"ghost",onClick:function(){return r()},children:"Cancel"}),(0,t.jsx)(y.Z,{appearance:"primary",onClick:function(){return i()},children:"Submit"})]})]})};function A(){var n=(0,o.Z)([""]);return A=function(){return n},n}function N(){var n=(0,o.Z)(["\n    cursor: pointer;\n"]);return N=function(){return n},n}var E=u.Z.Column,I=u.Z.HeaderCell,H=u.Z.Cell,K=h.ZP.div(A()),M=h.ZP.span(N()),V=function(){var n=(0,f.useRouter)(),e=(0,i.useState)(!1),r=e[0],c=e[1],o=(0,i.useState)([]),h=o[0],x=o[1],Z=(0,i.useState)([]),j=Z[0],v=Z[1],y=(0,i.useState)(!1),b=y[0],w=y[1],g=(0,i.useState)(null),m=g[0],C=g[1],k=function(e,r){r?n.push("/".concat(e,"/edit")):n.push("/".concat(e))};return(0,i.useEffect)((function(){c(!0),l.$.find().then((function(n){x(n),v(n)})).catch((function(){s.Z.push((0,t.jsx)(a.Z,{type:"error",children:"There was an error fetching the records"}))})).finally((function(){return c(!1)}))}),[]),r?(0,t.jsx)(p.g,{label:"Fetching records..."}):(0,t.jsxs)(K,{children:[(0,t.jsx)(F,{records:h,filteredRecords:j,setFilteredRecords:v}),(0,t.jsx)(d.Z,{style:{width:"fit-content"},children:(0,t.jsxs)(u.Z,{autoHeight:!0,width:600,data:j,onRowClick:function(n){k(n._id)},children:[(0,t.jsxs)(E,{width:150,children:[(0,t.jsx)(I,{children:"Title"}),(0,t.jsx)(H,{dataKey:"title"})]}),(0,t.jsxs)(E,{width:150,children:[(0,t.jsx)(I,{children:"Detail"}),(0,t.jsx)(H,{dataKey:"detail"})]}),(0,t.jsxs)(E,{width:100,children:[(0,t.jsx)(I,{children:"Amount"}),(0,t.jsx)(H,{dataKey:"amount"})]}),(0,t.jsxs)(E,{width:110,children:[(0,t.jsx)(I,{children:"Date"}),(0,t.jsx)(H,{dataKey:"date",children:function(n){var e;return(null===n||void 0===n||null===(e=n.date)||void 0===e?void 0:e.slice(0,null===n||void 0===n?void 0:n.date.indexOf("T")))||""}})]}),(0,t.jsxs)(E,{width:80,children:[(0,t.jsx)(I,{children:"Actions"}),(0,t.jsx)(H,{children:function(n){return(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(M,{onClick:function(e){e.stopPropagation(),k(n._id,!0)},children:"Edit"}),(0,t.jsx)(M,{onClick:function(e){e.stopPropagation(),C(n._id),w(!0)},children:"Delete"})]})}})]})]})}),b&&(0,t.jsx)(D,{open:b,onClose:function(){return w(!1)},onSubmit:function(){return e=m,void l.$.delete(e).then((function(){return(0,T.bj)("success")})).catch((function(){return(0,T.bj)("error")})).finally((function(){n.reload()}));var e}})]})},$=function(){return(0,t.jsx)(c.Z,{children:(0,t.jsx)(V,{})})},B=$},46202:function(n,e,r){"use strict";var t=r(7297),i=r(85893);r(67294);function c(){var n=(0,t.Z)(["\n    background: white;\n    border-radius: 10px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    margin: 40px auto 40px;\n    padding: 30px;\n    width: 60rem;\n    width: ",";\n"]);return c=function(){return n},n}var o=r(19521).ZP.div(c(),(function(n){return(null===n||void 0===n?void 0:n.width)||"60rem"})),u=function(n){var e=n.children,r=n.width;return(0,i.jsx)(o,{width:r,children:e})};e.Z=u,u.defaultProps={width:"60rem"}},13301:function(n,e,r){"use strict";var t=r(85893),i=(r(67294),r(73347)),c=function(n){var e=n.onClick,r=n.style,c=n.appearance,o=n.children;return(0,t.jsx)(i.Z,{appearance:c,style:r,onClick:e,children:o})};e.Z=c,c.defaultProps={style:null}},26658:function(n,e,r){"use strict";var t=r(7297),i=r(85893),c=(r(67294),r(19521)),o=r(9617),u=r(48737);function s(){var n=(0,t.Z)(["\n    width: auto;\n    display: inline-block;\n"]);return s=function(){return n},n}function a(){var n=(0,t.Z)(["\n    margin: 20px;\n    padding: 20px;\n    border-bottom: 0.5px solid #575a5b4d;\n    justify-content: space-between;\n    display: flex;\n"]);return a=function(){return n},n}var d=(0,c.ZP)(o.Z)(s()),l=c.ZP.div(a()),f=function(n){var e=n.label,r=n.onChange,t=n.defaultValue,c=n.edit;return(0,i.jsxs)(l,{children:[(0,i.jsx)(u.Z,{bolder:!0,children:e}),c?(0,i.jsx)(d,{defaultValue:t,onChange:r}):(0,i.jsx)(u.Z,{children:t})]})};e.Z=f,f.defaultProps={defaultValue:""}},48737:function(n,e,r){"use strict";var t=r(7297),i=r(85893);r(67294);function c(){var n=(0,t.Z)(["\n    font-weight: ",";\n    margin: 10px;\n"]);return c=function(){return n},n}var o=r(19521).ZP.span(c(),(function(n){return n.bolder?"bolder":"normal"})),u=function(n){var e=n.children,r=n.bolder;return(0,i.jsx)(o,{bolder:r,children:e})};e.Z=u,u.defaultProps={bolder:!1}},3642:function(n,e,r){"use strict";r.d(e,{Z:function(){return y}});var t=r(7297),i=r(85893),c=(r(67294),r(19521)),o=r(8773),u=r(24263),s=r(83498),a=r(11163),d={blue:{light:"#d6efff",normal:"#8ed2ff"},green:"#aeffb4",grey:"#403e59"};function l(){var n=(0,t.Z)(["\n    display: flex;\n    width: 100%;\n    background: ",";\n"]);return l=function(){return n},n}function f(){var n=(0,t.Z)(["\n    background: ",";\n    color: white;\n    padding: 10px;\n    margin: 0 10px;\n    cursor: pointer;\n    width: fit-content;\n    height: 100%;\n"]);return f=function(){return n},n}var h=c.ZP.div(l(),d.blue.normal),p=c.ZP.div(f(),d.grey),x=function(){var n=(0,a.useRouter)(),e=function(e,r){e.stopPropagation(),n.push("/".concat(r))};return(0,i.jsxs)(h,{children:[(0,i.jsx)(p,{onClick:function(n){return e(n,"records")},children:"Home"}),(0,i.jsx)(p,{onClick:function(n){return e(n,"records")},children:"About"})]})};function Z(){var n=(0,t.Z)(["\n    min-height: 100vh;\n    max-width: 100%;\n    background: ",";\n"]);return Z=function(){return n},n}var j=(0,c.ZP)(o.Z)(Z(),d.green),v=function(n){var e=n.children;return(0,i.jsxs)(j,{children:[(0,i.jsx)(x,{}),(0,i.jsx)(u.Z,{children:e}),(0,i.jsx)(s.Z,{})]})};v.defaultProps={children:void 0};var y=v},73362:function(n,e,r){"use strict";r.d(e,{g:function(){return c}});var t=r(85893),i=(r(67294),r(62222)),c=function(n){var e=n.label;return(0,t.jsx)(i.Z,{center:!0,content:e,vertical:!0,size:"lg"})};c.defaultProps={label:"Loading..."}},90316:function(n,e,r){"use strict";r.d(e,{Ch:function(){return u},RV:function(){return o},bj:function(){return s}});var t=r(85893),i=r(20264),c=r(24998),o=(r(67294),function(n){switch(n){case"success":i.Z.push((0,t.jsx)(c.Z,{type:"success",showIcon:!0,children:"Record updated successfully"}));break;case"error":i.Z.push((0,t.jsx)(c.Z,{type:"error",showIcon:!0,children:"Couldn't update record"}))}}),u=function(n){switch(n){case"success":i.Z.push((0,t.jsx)(c.Z,{type:"success",showIcon:!0,children:"Record updated successfully"}));break;case"error":i.Z.push((0,t.jsx)(c.Z,{type:"error",showIcon:!0,children:"There was an error fetching the records"}))}},s=function(n){switch(n){case"success":i.Z.push((0,t.jsx)(c.Z,{type:"success",showIcon:!0,children:"Record added successfully"}));break;case"error":i.Z.push((0,t.jsx)(c.Z,{type:"error",showIcon:!0,children:"There was an error adding the record"}))}}},13954:function(n,e,r){"use strict";r.d(e,{$:function(){return l}});var t=r(47568),i=r(34051),c=r.n(i),o=r(9669),u=r.n(o),s=(0,r(11752).default)().publicRuntimeConfig,a=u().create({headers:{"Content-Type":"application/json"},baseURL:s.baseURL}),d="/api/records",l={find:(0,t.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get(d);case 2:return e=n.sent.data,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)}))),findById:function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.get("".concat(d,"/").concat(e));case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),create:function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.post(d,e);case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),update:function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.put("".concat(d,"/").concat(e._id),e);case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),delete:function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.delete("".concat(d,"/").concat(e));case 2:return r=n.sent.data,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},function(n){n.O(0,[737,131,495,774,888,179],(function(){return e=82753,n(n.s=e);var e}));var e=n.O();_N_E=e}]);